#!/usr/bin/env bash

rofi_command="rofi -theme $HOME/.config/rofi/scripts/menu.rasi"

shutdown="ó°¥ Shutdown"
reboot="ó°œ‰ Reboot"
suspend="ó°’² Suspend"

rdialog () {
echo -e "Yes\nCancel" | $rofi_command -dmenu -p "$1" -l 2
}


options="$suspend\n$shutdown\n$reboot"
chosen="$(echo -e "$options" | $rofi_command -p "> Power options:" -dmenu -l 3 -selected-row 0)"
case $chosen in
  $shutdown)
    ans=$(rdialog "ðŸ¥ºðŸ‘‰ðŸ‘ˆ Shutdown?")
    if [[ $ans == "Yes" ]] ; then
      systemctl poweroff
    else
      exit 0
    fi
    ;;
  $reboot)
    ans=$(rdialog "î©¬ Reboot?")
    if [[ $ans == "Yes" ]] ; then
      systemctl reboot
    else
      exit 0
    fi
    ;;
  $suspend)
    ans=$(rdialog "ðŸ¥± Suspend?")
    if [[ $ans == "Yes" ]] ; then
      systemctl suspend
    else
      exit 0
    fi
    ;;
esac
